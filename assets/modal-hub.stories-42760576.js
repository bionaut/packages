import{j as t,a as u,F as x}from"./jsx-runtime-c3d7f245.js";import{R as H,r as l}from"./index-c6dae603.js";const f=H.createContext([]),_=()=>null,m=({children:n})=>{const[e,o]=l.useState({}),{active:a}=e,h={renderModal:r=>{o(d=>d.active===r?d:{active:r})},removeModal:()=>{o(r=>r.active===void 0?r:{active:void 0})}},M=a||t(_,{});return t(f.Provider,{value:[e,h],children:u(x,{children:[n,M]})})},g=(n,e)=>{const[o,a]=l.useState(!1),[i,s]=l.useState((e==null?void 0:e.currentStep)||0),[,{removeModal:h,renderModal:M}]=l.useContext(f),r=n,d=l.useCallback(()=>{a(!1)},[]);l.useEffect(()=>{o?M(t(r,{...e,onClose:d,currentStep:i,nextStep:()=>s(c=>c+1),prevStep:()=>s(c=>Math.max(c-1,0))})):h()},[r,d,i,o]);const y=l.useCallback(()=>{s((e==null?void 0:e.currentStep)||0),a(!0)},[e==null?void 0:e.currentStep]),k=l.useCallback(c=>{s((c==null?void 0:c.currentStep)||(e==null?void 0:e.currentStep)||0),a(!0)},[e==null?void 0:e.currentStep]);return{isOpen:o,close:d,open:y,openWithProps:k,currentStep:i}};try{m.displayName="ModalHubProvider",m.__docgenInfo={description:"",displayName:"ModalHubProvider",props:{}}}catch{}const N={title:"ModalHub",component:m},b={name:"ModalHub",render:()=>t(m,{children:t(O,{})})};function O(){const n=g(P,{title:"Default title"});return u("div",{children:[t("button",{style:{display:"block"},onClick:n.open,children:"open()"}),t("button",{style:{display:"block"},onClick:()=>n.openWithProps({title:"Overriden title",currentStep:1}),children:"openWithProps({ title: 'Overriden title', initialStep: 1})"}),t("button",{style:{display:"block"},disabled:!n.isOpen,onClick:()=>n.close(),children:"Close from outside"})]})}function P({title:n,onClose:e,currentStep:o,nextStep:a,prevStep:i}){return u("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"1px solid black",padding:"1rem",backgroundColor:"white"},children:[t("h1",{children:n}),u("p",{children:["Step ",o]}),u("div",{children:[t("button",{onClick:i,disabled:o===0,children:"Previous"}),t("button",{onClick:a,children:"Next"})]}),t("button",{onClick:e,children:"Close"})]})}var C,S,v;b.parameters={...b.parameters,docs:{...(C=b.parameters)==null?void 0:C.docs,source:{originalSource:`{
  name: 'ModalHub',
  render: () => {
    return <ModalHubProvider>
        <Controls />
      </ModalHubProvider>;
  }
}`,...(v=(S=b.parameters)==null?void 0:S.docs)==null?void 0:v.source}}};const W=["ModalHubStory"];export{b as ModalHubStory,W as __namedExportsOrder,N as default};
//# sourceMappingURL=modal-hub.stories-42760576.js.map
