import{j as t,a as i,F as x}from"./jsx-runtime-c3d7f245.js";import{R as H,r}from"./index-c6dae603.js";const f=H.createContext([]),_=()=>null,S=({children:n})=>{const[e,o]=r.useState({}),{active:l}=e,s={renderModal:b=>{o(()=>({active:b}))},removeModal:()=>{o(()=>({active:void 0}))}},u=l||t(_,{});return t(f.Provider,{value:[e,s],children:i(x,{children:[n,u]})})},g=(n,e)=>{const[o,l]=r.useState(!1),[c,d]=r.useState((e==null?void 0:e.currentStep)||0),[,{removeModal:s,renderModal:u}]=r.useContext(f),b=n,h=r.useCallback(()=>{l(!1)},[]);r.useEffect(()=>{o?u(t(b,{...e,onClose:h,currentStep:c,nextStep:()=>d(a=>a+1),prevStep:()=>d(a=>Math.max(a-1,0))})):s()},[b,h,e,u,c,o,s]);const y=r.useCallback(()=>{d((e==null?void 0:e.currentStep)||0),l(!0)},[e==null?void 0:e.currentStep]),k=r.useCallback(a=>{d((a==null?void 0:a.currentStep)||(e==null?void 0:e.currentStep)||0),l(!0)},[e==null?void 0:e.currentStep]);return{isOpen:o,close:h,open:y,openWithProps:k,currentStep:c}};try{S.displayName="ModalHubProvider",S.__docgenInfo={description:"",displayName:"ModalHubProvider",props:{}}}catch{}const N={title:"ModalHub",component:S},m={name:"ModalHub",render:()=>t(S,{children:t(O,{})})};function O(){const n=g(P,{title:"Default title",currentStep:0});return i("div",{children:[t("button",{style:{display:"block"},onClick:n.open,children:"open()"}),t("button",{style:{display:"block"},onClick:()=>n.openWithProps({title:"Overriden title",currentStep:1}),children:"openWithProps({ title: 'Overriden title', initialStep: 1})"}),t("button",{style:{display:"block"},disabled:!n.isOpen,onClick:()=>n.close(),children:"Close from outside"})]})}function P({title:n,onClose:e,currentStep:o,nextStep:l,prevStep:c}){return i("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",border:"1px solid black",padding:"1rem",backgroundColor:"white"},children:[t("h1",{children:n}),i("p",{children:["Step ",o+1]}),i("div",{children:[t("button",{onClick:c,disabled:o===0,children:"Previous"}),t("button",{onClick:l,children:"Next"})]}),t("button",{onClick:e,children:"Close"})]})}var C,M,v;m.parameters={...m.parameters,docs:{...(C=m.parameters)==null?void 0:C.docs,source:{originalSource:`{
  name: 'ModalHub',
  render: () => {
    return <ModalHubProvider>
        <Controls />
      </ModalHubProvider>;
  }
}`,...(v=(M=m.parameters)==null?void 0:M.docs)==null?void 0:v.source}}};const W=["ModalHubStory"];export{m as ModalHubStory,W as __namedExportsOrder,N as default};
//# sourceMappingURL=modal-hub.stories-d648c2f4.js.map
